<div class="order-history-page">
    <div class="order-history-container">
      <h1>Order History</h1>
      
      <div class="orders-list" *ngIf="!selectedOrder">
        <div class="order-card" *ngFor="let order of orders" (click)="viewOrderDetails(order)">
          <div class="order-header">
            <div class="order-info">
              <span class="order-id">Order #{{order.id}}</span>
              <span class="order-date">{{order.date | date:'mediumDate'}}</span>
            </div>
            <span class="order-status" [class]="getStatusClass(order.status)">
              {{order.status}}
            </span>
          </div>
          <div class="order-summary">
            <span class="items-count">{{order.items.length}} items</span>
            <span class="order-total">${{order.total.toFixed(2)}}</span>
          </div>
          <button class="view-details-btn">
            <i class="fas fa-chevron-right"></i>
          </button>
        </div>
      </div>
  
      <div class="order-details" *ngIf="selectedOrder">
        <button class="back-btn" (click)="closeDetails()">
          <i class="fas fa-arrow-left"></i>
          Back to Orders
        </button>
  
        <div class="order-details-header">
          <h2>Order #{{selectedOrder.id}}</h2>
          <span class="order-status" [class]="getStatusClass(selectedOrder.status)">
            {{selectedOrder.status}}
          </span>
        </div>
  
        <div class="order-items">
          <div class="order-item" *ngFor="let item of selectedOrder.items">
            <img [src]="item.product.imageUrl" [alt]="item.product.name">
            <div class="item-details">
              <h3>{{item.product.name}}</h3>
              <span class="item-quantity">Quantity: {{item.quantity}}</span>
            </div>
            <span class="item-price">${{(item.product.price * item.quantity).toFixed(2)}}</span>
          </div>
        </div>
  
        <div class="order-total-section">
          <div class="total-row">
            <span>Subtotal</span>
            <span>${{selectedOrder.total.toFixed(2)}}</span>
          </div>
          <div class="total-row">
            <span>Shipping</span>
            <span>FREE</span>
          </div>
          <div class="total-row grand-total">
            <span>Total</span>
            <span>${{selectedOrder.total.toFixed(2)}}</span>
          </div>
        </div>
      </div>
    </div>
  </div>